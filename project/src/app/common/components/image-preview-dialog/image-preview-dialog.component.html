<dialog closedby="none" #_dialog (close)="onClose()" class="_image-preview-dialog" (wheel)="onDialogWheel($event)">
  <div class="_dialog-content" (wheel)="onContentWheel($event)">
    <button type="button" class="_close-btn" (click)="onOkCancel()" (keydown.enter)="onOkCancel()" (keydown.space)="onOkCancel()" title="Close" tabindex="0">
      <svg height="24" viewBox="0 -960 960 960" width="24" fill="#fff">
        <path d="M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z"/>
      </svg>
    </button>
    
		<div class="_image-wrap" [class._sideways]="sideways()">
			<div class="_rotator" [style.--deg]="rotation()">
    	<img 
      	[src]="current()?.imageUrl" 
      	[alt]="current()?.imageName"
      	class="_preview-image"
      	(click)="onImageClick($event)"
      	(keydown.enter)="onImageClick($event)"
      	(keydown.space)="onImageClick($event)"
      	tabindex="0"
      	role="button"
      	loading="lazy"
    	/>
			</div>
		
			<button
        type="button"
        class="_rotate-btn"
        (click)="$event.stopPropagation(); rotateCCW()"
        title="Rotate"
        aria-label="Rotate"
      >
        <img src="image/arrow-counter-clockwise.svg" alt="" width="20" height="20" />
      </button>
		</div>

  	<button type="button" class="_nav _right" aria-label="Next" [disabled]="!hasNext()" (click)="next()">
  		<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    		<polyline points="9 18 15 12 9 6"></polyline>
  		</svg>
		</button>

		<button type="button" class="_nav _left" aria-label="Previous" [disabled]="!hasPrev()" (click)="prev()">
  		<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    		<polyline points="15 18 9 12 15 6"></polyline>
 		  </svg>
		</button>
  </div>
</dialog> 